{"version":3,"file":"src_app_auth_auth_module_ts.js","mappings":"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","sources":["./src/app/auth/auth-routing.module.ts","./src/app/auth/auth.module.ts","./src/app/auth/login/login.component.ts","./src/app/shared/services/http.service.ts"],"sourcesContent":["import {Routes, RouterModule} from '@angular/router';\n\nimport {LoginComponent} from './login/login.component';\n\nconst routes: Routes = [\n    {\n        path: '',\n        children: [\n            {\n                path: '',\n                component: LoginComponent,\n            },\n            {\n                path: '',\n                redirectTo: '/auth/login',\n                pathMatch: 'full',\n            },\n        ],\n    },\n];\n\nexport const AuthRoutingModule = RouterModule.forChild(routes);\n","import { NgModule } from '@angular/core';\n\nimport { SharedModule } from '../shared/shared.module';\n\nimport { LoginComponent } from './login/login.component';\nimport { AuthRoutingModule } from './auth-routing.module';\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\n\n@NgModule({\n  imports: [SharedModule, AuthRoutingModule, FlexLayoutModule],\n  declarations: [LoginComponent],\n})\nexport class AuthModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\n\nimport {FormBuilder, FormControl, FormGroup, FormGroupDirective, NgForm, Validators} from '@angular/forms';\nimport {first} from 'rxjs';\nimport {HttpService} from '@app/shared/services/http.service';\nimport {ApiUrlsService} from '@app/shared/services/api-urls.service';\nimport {AuthService} from '@app/shared/services/auth.service';\nimport {ErrorStateMatcher} from \"@angular/material/core\";\n\n/** Error when invalid control is dirty, touched, or submitted. */\nexport class MyErrorStateMatcher implements ErrorStateMatcher {\n    isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n        const isSubmitted = form && form.submitted;\n        return !!(control && control.invalid);\n    }\n}\n\n@Component({\n    selector: 'app-login',\n    templateUrl: './login.component.html',\n})\nexport class LoginComponent implements OnInit {\n    loggedUserDetails: any;\n    phoneNumber: any;\n    firstOtp: any;\n    secondOtp: any;\n    thirdOtp: any;\n    fourthOtp: any\n    // @ts-ignore\n    loginForm: FormGroup;\n    // otpForm: FormGroup;\n    loading = false;\n    submitted = false;\n    returnUrl: string | undefined;\n    error = '';\n    letterSpacing: boolean = false;\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private route: ActivatedRoute,\n        private router: Router,\n        private authService: AuthService,\n        private apiService: HttpService,\n        private apiUrls: ApiUrlsService\n    ) {\n        // redirect to home if already logged in\n        if (this.authService.currentUserValue) {\n            this.router.navigate(['/']);\n        }\n    }\n\n    // convenience getter for easy access to form fields\n    public isOTP: boolean = false;\n    ngOnInit(): void {\n        this.loginForm = new FormGroup({\n            phoneNumber: new FormControl('', [Validators.required, Validators.maxLength(10), Validators.minLength(10), Validators.pattern('[6-9]\\\\d{9}')]),\n            firstOtp: new FormControl('', [Validators.required, Validators.pattern(\"^[0-9]*$\")]),\n            secondOtp: new FormControl('', [Validators.required, Validators.pattern(\"^[0-9]*$\")]),\n            thirdOtp: new FormControl('', [Validators.required, Validators.pattern(\"^[0-9]*$\")]),\n            fourthOtp: new FormControl('', [Validators.required, Validators.pattern(\"^[0-9]*$\")]),\n        });\n        // get return url from route parameters or default to '/'\n        this.returnUrl = this.route.snapshot.queryParams.returnUrl || '/';\n    }\n\n    onSubmit(obj: any): void {\n        localStorage.clear();\n        this.submitted = true;\n        // stop here if form is invalid\n        if (this.loginForm.invalid) {\n            return;\n        }\n        this.loading = true;\n        this.authService.logIn(obj.phoneNumber, obj.otp).pipe(first()).subscribe((data: any) => {\n            if (data) {\n                this.loggedUserDetails = data;\n                this.router.navigate([this.returnUrl]);\n            }\n        }, (error: { message: string }) => {\n            this.error = error.message;\n            this.submitted = true;\n        });\n    }\n\n    move(e: any, s: any, t: any, f: any): void {\n        let length = t.value.length;\n        let maxlength = t.getAttribute('maxlength');\n        if (length == maxlength) {\n            if (f != \"\") {\n                f.focus();\n            }\n        }\n        if (e.key === 'Backspace') {\n            if (s != \"\") {\n                s.focus();\n            }\n        }\n        if (this.loginForm.value.firstOtp && this.loginForm.value.secondOtp && this.loginForm.value.thirdOtp && this.loginForm.value.fourthOtp) {\n            let otp = this.loginForm.value.firstOtp + this.loginForm.value.secondOtp + this.loginForm.value.thirdOtp + this.loginForm.value.fourthOtp\n            this.onSubmit({phoneNumber: this.loginForm.value.phoneNumber, otp: otp})\n        }\n    }\n\n    sendOtp() {\n        this.letterSpacing = !!this.loginForm.value.phoneNumber\n        if (this.loginForm.value.phoneNumber && this.loginForm.value.phoneNumber.length === 10) {\n            this.apiService.get(this.apiUrls.sendOtp + this.loginForm.value.phoneNumber).subscribe((res: any) => {\n                if (res) {\n                    this.isOTP = true;\n                }\n            }, error => {\n                this.error = error.message;\n            })\n        } else {\n            this.error = ''\n        }\n    }\n\n    matcher = new MyErrorStateMatcher();\n\n    backToPhoneNumber() {\n        this.isOTP = false;\n        this.loginForm.reset();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ApiUrlsService } from '@app/shared/services/api-urls.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class HttpService {\n  constructor(\n    private _httpClient: HttpClient,\n    private apiUrls: ApiUrlsService\n  ) {}\n\n  getAll(subUrl: any, data: any) {\n    return this._httpClient.post(this.apiUrls.mainUrl + subUrl, data);\n  }\n\n  get(subUrl: any) {\n    return this._httpClient.get(this.apiUrls.mainUrl + subUrl);\n  }\n\n  update(subUrl: any, data: any) {\n    return this._httpClient.put(this.apiUrls.mainUrl + subUrl, data);\n  }\n\n  delete(subUrl: any) {\n    return this._httpClient.delete(this.apiUrls.mainUrl + subUrl);\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}